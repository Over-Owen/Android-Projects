webpackJsonp([9],{"+aPQ":function(t,e){},JBpu:function(t,e){},smAi:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={multiBarChineseNames:["精通掌握","熟练掌握","基本理解","一知半解","完全不会"],multiBarDoubbleChineseNames:["精通掌握","精通掌握","熟练掌握","熟练掌握","基本理解","基本理解","一知半解","一知半解","完全不会","完全不会"],multiBarDoubbleEnglishNames:["prefectList","unablePrefectList","greatList","unableGreatList","goodList","unableGoodList","badList","unableBadList","worseList","unableWorseList"],multiBarColor:["#13b5b1","#80c269","#f6eb53","#f8b551","#eb6877"]},s=(i("CS20"),{name:"echart",props:["multidimensionalData","knowledgeDemotion"],data:function(){return{mChart:""}},mounted:function(){this.mChart=this.$echarts.init(document.getElementById("multidimensionalBar")),this.autoChartHeight(),this.getMultidimensionalBar(this.multidimensionalData)},methods:{autoChartHeight:function(){console.log(this.multidimensionalData.nameList),this.autoHeight=90*this.multidimensionalData.nameList.length+235,this.$refs.multBar&&(this.$refs.multBar.style.height=this.autoHeight+"px",this.$refs.multBar.childNodes[0].style.height=this.autoHeight+"px",this.mChart.resize())},getMultidimensionalBar:function(t){var e=this.arrangeSeries(t),i={title:{top:0,left:0,text:"| 复合柱形图",textStyle:{color:"#226cfb",fontWeight:"normal",fontSize:16}},color:a.multiBarColor,legend:{top:"72",y:140,selectedMode:!1,itemWidth:22,itemHeight:22,itemGap:30,data:a.multiBarChineseNames,textStyle:{color:"#333333",fontSize:14}},grid:{y:110,x:130,x2:45,y2:55},xAxis:[{type:"value",position:"top",splitLine:{show:!1},axisLabel:{show:!1},axisLine:{lineStyle:{color:"#999999"}},axisTick:{show:!1}}],yAxis:[{type:"category",inverse:!0,boundaryGap:!0,splitLine:{show:!1},data:t.nameList,axisLine:{lineStyle:{color:"#999999"}},axisLabel:{formatter:function(t,e){return t.length>5?t.substring(0,5)+"...":t},textStyle:{color:"#333333",fontSize:14}},axisTick:{show:!0},triggerEvent:!0}],series:e};this.mChart.hideLoading(),this.mChart.setOption(i),this.utils$.extension(this.mChart)},arrangeSeries:function(t){var e={normal:{barBorderRadius:6,barBorderColor:"rgba(0,0,0,0)",color:"rgba(0,0,0,0)"},emphasis:{barBorderColor:"rgba(0,0,0,0)",color:"rgba(0,0,0,0)"}},i={normal:{barBorderRadius:6,label:{show:!0,color:"#000000",position:"insideLeft",formatter:function(t){return parseInt(100*t.value)+"% 我：0.78"},fontSize:20}}};return a.multiBarDoubbleChineseNames.map(function(s,o){return{name:s,type:"bar",barWidth:70,barMaxWidth:70,barCategoryGap:10,stack:"总量",itemStyle:(o+1)%2!=0?i:e,data:t[a.multiBarDoubbleEnglishNames[o]]}})}}}),o={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{ref:"multBar",style:{width:"100%"},attrs:{id:"multidimensionalBar"}})},staticRenderFns:[]};var n={name:"MultidimensionalBarComponent",components:{Echart:i("VU/8")(s,o,!1,function(t){i("+aPQ")},"data-v-0a311ced",null).exports},props:["multidimensionalData","loading"],data:function(){return{data:"",data1:"",sers1:"",mChart:"",mChart1:"",loadingKnowledge:!0,type:0,knowledgeDemotion:{type:"",description:""},knowledgeDemotion1:{type:"",description:""}}},mounted:function(){this.mChart=this.$echarts.init(document.getElementById("multidimensionalBar")),this.mChart1=this.$echarts.init(document.getElementById("multidimensionalBar1")),this.data=this.multidimensionalData;var t=this.arrangeSeries(this.data);this.setBarAsync(this.mChart,t,this.data.nameList),this.autoChartHeight(),this.data1=this.$store.state.reportAllList.knowledge_multi_bar,this.sers1=this.arrangeSeries(this.data1)},methods:{setBarAsync:function(t,e,i){var s=this;this.$nextTick(function(){var o={title:{top:0,left:0,text:"| 复合柱形图",textStyle:{color:"#226cfb",fontWeight:"normal",fontSize:16}},color:a.multiBarColor,legend:{top:"72",y:140,selectedMode:!1,itemWidth:22,itemHeight:22,itemGap:30,data:a.multiBarChineseNames,textStyle:{color:"#333333",fontSize:14}},grid:{y:110,x:130,x2:45,y2:55},xAxis:[{type:"value",position:"top",splitLine:{show:!1},axisLabel:{show:!1},axisLine:{lineStyle:{color:"#999999"}},axisTick:{show:!1}}],yAxis:[{type:"category",inverse:!0,boundaryGap:!0,splitLine:{show:!1},data:i,axisLine:{lineStyle:{color:"#999999"}},axisLabel:{formatter:function(t,e){return t.length>5?t.substring(0,5)+"...":t},textStyle:{color:"#333333",fontSize:14}},axisTick:{show:!0},triggerEvent:!0}],series:e};t.setOption(o),t.on("finished",function(){s.callLoading(!1)})})},setBarAwait:function(t,e,i){var a=this;t.setOption({yAxis:[{data:i}],series:e}),t.on("finished",function(){a.callLoading(!1)})},getMultidimensionalBar:function(t){var e=this.arrangeSeries(t),i={title:{top:0,left:0,text:"| 复合柱形图",textStyle:{color:"#226cfb",fontWeight:"normal",fontSize:16}},color:a.multiBarColor,legend:{top:"72",y:140,selectedMode:!1,itemWidth:22,itemHeight:22,itemGap:30,data:a.multiBarChineseNames,textStyle:{color:"#333333",fontSize:14}},grid:{y:110,x:130,x2:45,y2:55},xAxis:[{type:"value",position:"top",splitLine:{show:!1},axisLabel:{show:!1},axisLine:{lineStyle:{color:"#999999"}},axisTick:{show:!1}}],yAxis:[{type:"category",inverse:!0,boundaryGap:!0,splitLine:{show:!1},data:t.nameList,axisLine:{lineStyle:{color:"#999999"}},axisLabel:{formatter:function(t,e){return t.length>5?t.substring(0,5)+"...":t},textStyle:{color:"#333333",fontSize:14}},axisTick:{show:!0},triggerEvent:!0}],series:e};this.mChart.setOption(i),this.utils$.extension(this.mChart)},getMultidimensionalBar1:function(t){var e=this.arrangeSeries(t),i={title:{top:0,left:0,text:"| 复合柱形图",textStyle:{color:"#226cfb",fontWeight:"normal",fontSize:16}},color:a.multiBarColor,legend:{top:"72",y:140,selectedMode:!1,itemWidth:22,itemHeight:22,itemGap:30,data:a.multiBarChineseNames,textStyle:{color:"#333333",fontSize:14}},grid:{y:110,x:130,x2:45,y2:55},xAxis:[{type:"value",position:"top",splitLine:{show:!1},axisLabel:{show:!1},axisLine:{lineStyle:{color:"#999999"}},axisTick:{show:!1}}],yAxis:[{type:"category",inverse:!0,boundaryGap:!0,splitLine:{show:!1},data:t.nameList,axisLine:{lineStyle:{color:"#999999"}},axisLabel:{formatter:function(t,e){return t.length>5?t.substring(0,5)+"...":t},textStyle:{color:"#333333",fontSize:14}},axisTick:{show:!0},triggerEvent:!0}],series:e};this.mChart1.hideLoading(),this.mChart1.setOption(i),this.utils$.extension(this.mChart1)},showBottomTitle:function(t){this.type=Number(t);var e=this;if(this.$nextTick(function(){e.callLoading(!0)}),0==t){var i=this;setTimeout(function(){i.$nextTick(function(){i.callLoading(!1)})},1e3)}else if(1==t)if(this.loadingKnowledge)this.showKnowledgeDialog(this.sers1,this.data1.nameList),this.loadingKnowledge=!1;else{var a=this;setTimeout(function(){a.$nextTick(function(){a.callLoading(!1)})},1e3)}},showKnowledgeDialog:function(t,e){var i=this;switch(this.knowledgeDemotion1.type=this.data1.knowledgesInfo,this.data1.knowledgesInfo){case 0:this.knowledgeDemotion1.description="本套试卷没有关联任何知识点！";break;case 1:this.knowledgeDemotion1.description="本套试卷中不是每道题都关联了知识点，所以统计分析数据只能覆盖所有关联了知识点的试题"}1==this.knowledgeDemotion1.type&&this.$confirm(this.knowledgeDemotion1.description,{confirmButtonText:"知道了",type:"info",center:!0}).then(function(){i.setBarAsync(i.mChart1,t,e),i.autoChartHeight1()}),this.data1.knowledgesInfo||(this.setBarAsync(this.mChart1,t,e),this.autoChartHeight1())},autoChartHeight:function(){this.autoHeight=60*this.data.nameList.length+235,this.$refs.multBar&&(this.$refs.multBar.style.height=this.autoHeight+"px",this.$refs.multBar.childNodes[0].style.height=this.autoHeight+"px",this.mChart.resize())},autoChartHeight1:function(){this.autoHeight=60*this.data1.nameList.length+235,this.$refs.multBar1&&(this.$refs.multBar1.style.height=this.autoHeight+"px",this.$refs.multBar1.style.width=this.$refs.multBar.childNodes[0].style.width,this.$refs.multBar1.childNodes[0].style.height=this.autoHeight+"px",this.mChart1.resize())},arrangeSeries:function(t){var e={normal:{barBorderRadius:6,barBorderColor:"rgba(0,0,0,0)",color:"rgba(0,0,0,0)"},emphasis:{barBorderColor:"rgba(0,0,0,0)",color:"rgba(0,0,0,0)"}},i={normal:{barBorderRadius:6,label:{show:!0,color:"#000000",position:"insideLeft",formatter:function(t){return parseInt(100*t.value)+"% 我：0.78"},fontSize:20}}};return a.multiBarDoubbleChineseNames.map(function(s,o){return{name:s,type:"bar",barWidth:40,barMaxWidth:40,barCategoryGap:10,stack:"总量",itemStyle:(o+1)%2!=0?i:e,data:t[a.multiBarDoubbleEnglishNames[o]]}})},callLoading:function(t){this.$emit("update:loading",t)}}},r={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"multidimensional-bar"},[i("div",{staticClass:"select"},[i("lw-all-report-select",{on:{changeType:t.showBottomTitle}})],1),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:0==this.type&&!t.loading,expression:"this.type==0&&!loading"}],ref:"multBar",style:{width:"100%",height:"100%"},attrs:{id:"multidimensionalBar"}}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:1==this.type&&!t.loading,expression:"this.type==1&&!loading"}],ref:"multBar1",staticStyle:{width:"100%",height:"100%"},attrs:{id:"multidimensionalBar1"}}),t._v(" "),0==t.knowledgeDemotion.type?i("p",{staticClass:"knowledge-tip"},[t._v(t._s(t.knowledgeDemotion.description))]):t._e(),t._v(" "),i("p",{staticClass:"multidimensional-bottom-title"},[i("span",[t._v(t._s(0==t.type?"这套题各题的各认知阶段占比和横纵向分布对比":"这套题知识点的各认知阶段占比和横纵向分布对比"))])])])},staticRenderFns:[]};var l=i("VU/8")(n,r,!1,function(t){i("JBpu")},"data-v-7fcb0882",null);e.default=l.exports}});