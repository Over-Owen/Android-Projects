webpackJsonp([15],{"7yYn":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={barLegendChineseName:["精通掌握","熟练掌握","基本理解","一知半解","完全不会"],barLegendEnglishName:["prefectList","greatList","goodList","badList","worseList"],barLegendColor:["#13b5b1","#80c269","#f6eb53","#f8b551","#eb6877"]},o=i("CS20"),a={name:"colorfulKeysChart",props:["barData"],data:function(){return{data:"",bChart:"",type:0,knowledgeDemotion:{type:"",description:""}}},mounted:function(){var t=this;this.bChart=this.$echarts.init(document.getElementById("barChart")),o.a.getBarOrigins(this.type).then(function(e){t.data=e,t.getBarChart(t.data)}).catch(function(e){t.data=t.barData,t.getBarChart(t.data)})},methods:{getBarChart:function(t){var e=t.nameList,i=this.showXWords(e),o=!0;0==i&&(o=!1);var a=e.length>12,r=window.innerWidth>1366?12:15,s=window.innerWidth>1366?10:6,l=this.arrangeSeries(this.data),d={title:{top:0,left:0,text:"| 五彩琴键图",textStyle:{color:"#226cfb",fontSize:16,fontWeight:"normal"}},tooltip:{trigger:"axis",axisPointer:{type:"none"},formatter:function(t){var e="";return t.forEach(function(t){"-"!=t.value&&(e=t.name+"<br/>"+t.seriesName+":"+t.value.toFixed(2))}),e}},grid:{y:149,x:120,x2:45,y2:a?130:80},color:n.barLegendColor,legend:{top:"80",icon:"roundRect",itemWidth:22,itemHeight:22,itemGap:30,data:n.barLegendChineseName,textStyle:{color:"#333333",fontSize:14}},xAxis:{type:"category",splitLine:{show:!1},data:e,axisLine:{lineStyle:{color:"#dddddd"}},axisLabel:{formatter:function(t){return o&&t.length>=i?t.substring(0,i)+"...":t},textStyle:{color:"#999999",fontSize:14}},axisTick:{show:!1,alignWithLabel:!0},triggerEvent:!0},yAxis:{type:"value",min:0,max:1,splitNumber:2,name:"全班平均认知度",nameTextStyle:{color:"#333333",fontSize:14,align:"right"},axisLine:{lineStyle:{color:"#999999"}},splitLine:{show:!1},axisLabel:{textStyle:{color:"#999999",fontSize:14}},axisTick:{show:!0,alignWithLabel:!0}},dataZoom:[{type:"slider",show:a,xAxisIndex:[0],bottom:"8%",start:0,end:e.length<r?100:e.length>=r&&e.length<=40?70:s,borderColor:"#999999",fillerColor:"rgba(0, 36, 106, 0.5)",textStyle:{color:"#999999"}}],series:l};this.bChart.setOption(d),this.utils$.extension(this.bChart)},showBottomTitle:function(t){var e=this;this.type=Number(t),this.bChart.clear(),0==t?o.a.getBarOrigins(this.type).then(function(t){e.data=t,e.knowledgeDemotion={type:"",description:""},e.getBarChart(e.data)}).catch(function(t){e.data=e.$store.state.reportAllList.question_multi_dimensional,e.knowledgeDemotion={type:"",description:""},e.getBarChart(e.data)}):1==t&&o.a.getBarOrigins(this.type).then(function(t){e.data=t,e.showKnowledgeDialog()}).catch(function(t){e.data=e.$store.state.reportAllList.knowledge_multi_dimensional,e.showKnowledgeDialog()})},showKnowledgeDialog:function(){var t=this;switch(this.knowledgeDemotion.type=this.data.knowledgesInfo,this.data.knowledgesInfo){case 0:this.knowledgeDemotion.description="本套试卷没有关联任何知识点！";break;case 1:this.knowledgeDemotion.description="本套试卷中不是每道题都关联了知识点，所以统计分析数据只能覆盖所有关联了知识点的试题"}1==this.knowledgeDemotion.type&&this.$confirm(this.knowledgeDemotion.description,{confirmButtonText:"知道了",type:"info",center:!0}).then(function(){t.getBarChart(t.data)}),this.data.knowledgesInfo||this.getBarChart(this.data)},showXWords:function(t){var e,i=t.length;return i<=2?e=0:i>2&&i<=5?e=15:i>5&&i<=10?e=7:i>10&&(e=6),e},arrangeSeries:function(t){return n.barLegendChineseName.map(function(e,i){return{name:e,type:"bar",stack:"总量",barWidth:70,label:{normal:{show:!0,position:"top",fontSize:14,formatter:function(t){return t.seriesName+"\n"+t.value.toFixed(2)}}},data:function(){for(var e in t)if(e==n.barLegendEnglishName[i])return t[e]}(),itemStyle:{barBorderRadius:6},markPoint:{label:{show:!0,color:"#AAAAAA",formatter:function(t){return"我：0.78"}},itemStyle:{color:"transparent"},tooltip:{show:!1},data:[{xAxis:0,yAxis:"1"},{xAxis:1,yAxis:"1"},{xAxis:2,yAxis:"1"},{xAxis:3,yAxis:"0.9"},{xAxis:4,yAxis:"1"}]}}})}}},r={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"colorful-keys"},[i("div",{staticClass:"select"},[i("lw-all-report-select",{on:{changeType:t.showBottomTitle}})],1),t._v(" "),i("div",{style:{width:"100%",height:"720px"},attrs:{id:"barChart"}}),t._v(" "),0==t.knowledgeDemotion.type?i("p",{staticClass:"knowledge-tip"},[t._v(t._s(t.knowledgeDemotion.description))]):t._e(),t._v(" "),i("p",{staticClass:"title-bottom"},[i("span",[t._v(t._s(0==t.type?"这套题各题的认知掌握程度具体值和分布规律":"这套题知识点的认知掌握程度具体值和分布规律"))])])])},staticRenderFns:[]};var s=i("VU/8")(a,r,!1,function(t){i("gmyU")},"data-v-73e8ead0",null);e.default=s.exports},gmyU:function(t,e){}});