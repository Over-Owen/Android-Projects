webpackJsonp([11],{"MoJ+":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("CS20"),o={name:"positiveAndNegativeBarComponent",props:["pnbarData"],data:function(){return{data:"",pnChart:"",type:0,knowledgeDemotion:{type:"",description:""}}},mounted:function(){var t=this;this.pnChart=this.$echarts.init(document.getElementById("PN")),a.a.getPnBarOrigins(this.type).then(function(e){t.data=e,t.autoChartHeight(),t.getPNBar(t.data)}).catch(function(e){t.data=t.pnbarData,t.autoChartHeight(),t.getPNBar(t.data)})},methods:{getPNBar:function(t){var e=this.arrangeSerses(t),i={tooltip:{trigger:"axis",axisPointer:{type:"none"}},grid:{x:40,y:90,x2:40,y2:50},xAxis:{type:"value",position:"top",offset:20,max:10,min:-10,splitNumber:20,boundaryGap:!0,splitLine:{show:!1},axisTick:{show:!1},axisLine:{show:!0,lineStyle:{color:"#226cfb"}},axisLabel:{show:!0,formatter:function(t){var e="";return-10==t?e=t:-6==t?e=t:-3==t?e=t:0==t?e=t:3==t?e=t:5==t?e=t:8==t?e=t:10==t&&(e=t),e},textStyle:{color:"#226cfb",fontSize:14}}},yAxis:[{type:"category",axisLine:{show:!1},axisLabel:{show:!1},axisTick:{show:!1},splitLine:{show:!1},data:t.nameList}],series:[{name:"班级认知指数",type:"bar",barCategoryGap:"5",barMaxWidth:"45",label:{normal:{show:!0,formatter:"{b}",color:"#226cfb",fontSize:14}},itemStyle:{color:"#226cfb",barBorderRadius:6},data:e},{name:"我的认知指数",type:"bar",barCategoryGap:"5",barMaxWidth:"45",label:{normal:{show:!0,formatter:"{b}",color:"#e0bf66",fontSize:14}},itemStyle:{color:"#8cd573",barBorderRadius:6},data:e}]};this.pnChart.setOption(i)},showBottomTitle:function(t){var e=this;this.type=Number(t),this.pnChart.clear(),0==t?a.a.getPnBarOrigins(this.type).then(function(t){e.data=t,e.autoChartHeight(),e.knowledgeDemotion={type:"",description:""},e.getPNBar(e.data)}).catch(function(t){e.data=e.$store.state.reportAllList.question_cognitive_index,e.autoChartHeight(),e.knowledgeDemotion={type:"",description:""},e.getPNBar(e.data)}):1==t&&a.a.getPnBarOrigins(this.type).then(function(t){e.data=t,e.showKnowledgeDialog()}).catch(function(t){e.data=e.$store.state.reportAllList.knowledge_cognitive_index,e.showKnowledgeDialog()})},showKnowledgeDialog:function(){var t=this;switch(this.knowledgeDemotion.type=this.data.knowledgesInfo,this.data.knowledgesInfo){case 0:this.knowledgeDemotion.description="本套试卷没有关联任何知识点！";break;case 1:this.knowledgeDemotion.description="本套试卷中不是每道题都关联了知识点，所以统计分析数据只能覆盖所有关联了知识点的试题"}1==this.knowledgeDemotion.type&&this.$confirm(this.knowledgeDemotion.description,{confirmButtonText:"知道了",type:"info",center:!0}).then(function(){t.autoChartHeight(),t.getPNBar(t.data)}),this.data.knowledgesInfo||(this.autoChartHeight(),this.getPNBar(this.data))},autoChartHeight:function(){this.autoHeight=50*this.data.nameList.length+140,this.$refs.pnBar&&(this.$refs.pnBar.style.height=this.autoHeight+"px",this.$refs.pnBar.childNodes[0].style.height=this.autoHeight+"px",this.pnChart.resize())},arrangeSerses:function(t){var e={normal:{position:"right"}},i={normal:{position:"left"}};return t.cognitiveIndex=this.utils$.toFixedArr(t.cognitiveIndex),t.cognitiveIndex.map(function(t){return{value:t,label:t>=0?i:e}})}}},n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"pn-bar"},[t._m(0),t._v(" "),i("div",{staticClass:"select"},[i("lw-all-report-select",{on:{changeType:t.showBottomTitle}})],1),t._v(" "),i("div",{ref:"pnBar",style:{width:"100%"},attrs:{id:"PN"}}),t._v(" "),0==t.knowledgeDemotion.type?i("p",{staticClass:"knowledge-tip"},[t._v(t._s(t.knowledgeDemotion.description))]):t._e(),t._v(" "),i("p",{staticClass:"pn-bottom-title"},[i("span",{directives:[{name:"show",rawName:"v-show",value:0==t.type,expression:"type == 0"}]},[t._v("这套题各题的全班学生的平均认知指数值和对比规律")]),t._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:1==t.type,expression:"type == 1"}]},[t._v("这套题知识点的全班学生的平均认知指数值和对比规律")])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"pn-top-title"},[e("span",[this._v("| 认知指数：")]),this._v(" "),e("span",[this._v("值越大表示掌握程度越确定，值越小表示认知掌握越不确定。对于数值极大或是极小的试题或知识点应该引起关注。")])])}]};var s=i("VU/8")(o,n,!1,function(t){i("jWCM")},"data-v-c79828ea",null);e.default=s.exports},jWCM:function(t,e){}});