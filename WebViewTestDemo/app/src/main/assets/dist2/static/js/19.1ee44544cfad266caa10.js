webpackJsonp([19],{Dd52:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s={name:"pieChartComponent",props:["resultData","isFastFeedback"],data:function(){return{record:[],echart:[],isRightAnswer:!0,box:{width:0,height:0},innerWidth:window.innerWidth,questionOrder:""}},created:function(){this.questionOrder=this.local$.getItem("questionOrder"),this.box.width=window.innerWidth/2-70,this.isFastFeedback?this.box.height=window.innerHeight/(window.innerHeight<=625?2.4:window.innerHeight<800?2:1.68):this.box.height=window.innerHeight/(window.innerHeight<=625?2.2:window.innerHeight<800?2:1.7)},mounted:function(){this.echart=this.resultData.echart,this.drawGauge(this.resultData.echart)},methods:{showAnswer:function(){this.isRightAnswer=!this.isRightAnswer},drawGauge:function(t){var e=this,a=this.$echarts.init(document.getElementById("mychars")),s=[],i=[],r=["#37a2da","#32c5e9","#67e0e3","#9fe6b8","#ffdb5c","#ff9f7f","#96bfff","#e062ae","#e690d1","#e7bcf3","#9d96f5","#8378ea"];t.forEach(function(t,a){var n="";n=t.name===e.resultData.record.right_answer||t.name===e.resultData.record.first_feedback_right_answer?"#00c670":"未作答"===t.name?"#97aca3":r[a],s.push({name:t.value,value:t.value,checkedName:t.name,avgTime:t.avgTime,percent:t.percent,itemStyle:{color:n}}),i.push({name:t.name,value:t.value,itemStyle:{color:n}})}),a.setOption({tooltip:{trigger:"item",formatter:function(t){return function(t){var e="";e=s.find(function(e){return e.checkedName===t.data.checkedName}).checkedName+"<br/>"+t.percent+"%<br/>选择人数："+s.find(function(e){return e.name===t.name}).value,n.isFastFeedback||(e+="<br/>平均耗时："+n.utils$.fromatDate(s.find(function(e){return e.checkedName===t.data.checkedName}).avgTime));return e}(t)}},title:{text:"全班作答选项分类及对应人数汇总饼图",subtext:"（点击上部饼图不同部分可在右侧展示对应学生详情）",left:"center",bottom:0,padding:[20,0,0,0]},series:[{type:"pie",radius:["40%","60%"],top:"-10%",label:{normal:{textStyle:{position:"outside",color:"#9b9d9d",fontSize:window.innerWidth>=1364?20:14}}},labelLine:{normal:{show:!0}},data:i},{type:"pie",radius:["40%","60%"],top:"-10%",label:{normal:{position:"inner",textStyle:{fontSize:window.innerWidth>=1364?20:14}}},data:s}]});var n=this;a.on("click",function(t){var e=t.data.checkedName;n.$emit("changeData",{clickAnswer:e,score:"",isRight:""})})}}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pie-chart-page",style:{fontSize:t.innerWidth<=1366?"14px":"18px"}},[t.isFastFeedback?t._e():a("div",{staticClass:"left-bottom",attrs:{flex:"main:justify"}},[a("span",[t._v("【"+t._s(t.questionOrder)+"】")]),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),a("span",{staticClass:"right-answer"},[t._v("正确选项："+t._s(t.resultData.record.right_answer?t.resultData.record.right_answer:"未配置"))])]),t._v(" "),a("div",{staticClass:"left-head"},[a("p",[t._v("选择最多的选项："),a("span",{staticClass:"mar-r-20px font-color"},[t._v(t._s(t.resultData.record.max_item?t.resultData.record.max_item:"")+" ")]),t._v("选择该选项的总人数："),a("span",{staticClass:"font-color"},[t._v(t._s(t.resultData.record.max_item_count?t.resultData.record.max_item_count:0))]),t._v("人")]),t._v(" "),a("p",[t._v("已提交答案人数："),a("span",{staticClass:"font-color"},[t._v(t._s(t.resultData.record.right_count+t.resultData.record.error_count))]),t._v("人，未提交人数："),a("span",{staticClass:"font-color"},[t._v(t._s(t.resultData.record.total_count-(t.resultData.record.right_count+t.resultData.record.error_count)))]),t._v("人")])]),t._v(" "),a("div",{staticClass:"left-echarts"},[a("div",{staticClass:"pie-show"},[a("div",{ref:"mychars",style:{width:t.box.width+"px",height:t.box.height+"px",margin:"0 auto"},attrs:{id:"mychars"}})]),t._v(" "),a("div",{staticClass:"echars-foot",style:{marginTop:t.innerWidth>=1366?"5px":"-20px"},attrs:{flex:"box:mean"}},[a("div",[a("p",[t._v("正答率："),a("span",{staticClass:"font-color"},[t._v(t._s(t._f("toPrecision")(t.resultData.record.right_proportion)))])]),t._v(" "),t.isFastFeedback?t._e():a("p",[t._v("正答平均用时："),a("span",{staticClass:"font-color"},[t._v(t._s(t._f("formatSeconds")(t.resultData.record.right_avg_time)))])])]),t._v(" "),a("div",[a("p",[t._v("班级难度系数："),a("span",{staticClass:"font-color"},[t._v(t._s(t.resultData.record.degree_of_difficulty?t.resultData.record.degree_of_difficulty:"")+" "+t._s(t.resultData.degreeOfDifficulty))])]),t._v(" "),t.isFastFeedback?t._e():a("p",[t._v("全班平均用时："),a("span",{staticClass:"font-color"},[t._v(t._s(t._f("formatSeconds")(t.resultData.record.avg_time)))])])]),t._v(" "),a("div",[a("p",[t._v("区分度："),a("span",{staticClass:"font-color"},[t._v(t._s(t.resultData.record.discrimination?t.resultData.record.discrimination:"")+" "+t._s(t.resultData.discrimination))])])])]),t._v(" "),t.isFastFeedback&&1==t.resultData.feedbackType?a("div",{staticClass:"bottom"},[a("span",{directives:[{name:"show",rawName:"v-show",value:t.isRightAnswer,expression:"isRightAnswer"}],staticClass:"right-answer"},[t._v("正确选项："+t._s(t.resultData.record.first_feedback_right_answer?t.resultData.record.first_feedback_right_answer:"未配置"))]),t._v(" "),a("el-button",{on:{click:t.showAnswer}},[t._v(t._s(t.isRightAnswer?"不显示正确答案":"显示正确答案"))])],1):t._e()])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticStyle:{color:"#000"}},[this._v("\n      我自己的作答：\n      "),e("span",{staticStyle:{color:"#226cfb"}},[this._v("AB")]),this._v(" "),e("span",{staticClass:"icon iconfont icon-duigou",staticStyle:{color:"green","font-size":"16px"}}),this._v(" "),e("span",{staticClass:"icon iconfont icon-cha",staticStyle:{color:"red","font-size":"16px"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticStyle:{color:"#000"}},[this._v("\n      我的答题用时：\n      "),e("span",{staticStyle:{color:"#226cfb"}},[this._v("3‘36’")])])}]};var r=a("VU/8")(s,i,!1,function(t){a("c+fl")},null,null);e.default=r.exports},"c+fl":function(t,e){}});