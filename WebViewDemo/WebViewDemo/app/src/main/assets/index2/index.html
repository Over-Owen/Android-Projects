<!--
    THIS EXAMPLE WAS DOWNLOADED FROM https://echarts.apache.org/examples/zh/editor.html?c=mix-line-bar
-->
<!DOCTYPE html>
<html style="height: 100%">
<head>
    <meta charset="utf-8">
</head>
<style>
    .rect {
        color: white;
        font-family: Verdana, Arial, Helvetica, sans-serif;
        font-size: 16px;
        width: 100px;
        padding: 6px;
        background-color: #98bf21;
        text-decoration: none;
        text-align: center;
        border: none;
        cursor: pointer;
    }

    .closeIcon img {
        width: 60px;
        height: 60px;
        z-index: 5;
        position: absolute;
        right: 15px;
        bottom: 15px;
    }
</style>
<body style="height: 100%; margin: 0">
<p>测试Android WebView 与 Javascript 交互</p>
<input id="name_input" class="inputStyle" type="text"/>
<a class="rect" Onclick="sendInfoToKotlin()">JS调用Kotlin</a>
<a class="rect" Onclick="sendInfoEXIT()"><h1>退出</h1></a>
<div class="closeIcon" Onclick="sendInfoEXIT()">
    <img src="close.png">
</div>
<div id="container" style="height: 100%"></div>

<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts@5/dist/echarts.min.js"></script>
<!-- Uncomment this line if you want to dataTool extension
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts@5/dist/extension/dataTool.min.js"></script>
-->
<!-- Uncomment this line if you want to use gl extension
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts-gl@2/dist/echarts-gl.min.js"></script>
-->
<!-- Uncomment this line if you want to echarts-stat extension
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts-stat@latest/dist/ecStat.min.js"></script>
-->
<!-- Uncomment this line if you want to use map
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts@5/map/js/china.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts@5/map/js/world.js"></script>
-->
<!-- Uncomment these two lines if you want to use bmap extension
<script type="text/javascript" src="https://api.map.baidu.com/api?v=2.0&ak=<Your Key Here>"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts@5/dist/extension/bmap.min.js"></script>
-->

<script type="text/javascript">
    var dom = document.getElementById("container");
    var myChart = echarts.init(dom);
    var app = {};

    var option = (function showInfoFromKotlin(msg) {
        var text = msg;
        alert("来自客户端的信息：" + msg);
        return text
    })()

    if (option && typeof option === 'object') {
        myChart.setOption(option);
    }

    function sendInfoToKotlin() {
        //调用android程序中的方法，并传递参数
        var name = document.getElementById("name_input").value;
        window.AndroidWebView.showInfoFromJs(name);
    }

    function sendInfoEXIT() {
        //调用android程序中的方法，并传递退出参数
        window.AndroidWebView.showInfoFromJs("#exit#");
    }



    //在android代码中调用此方法
    function showInfoFromKotlin(msg) {

        alert("来自客户端的信息：" + msg);
    }

</script>
</body>
</html>
